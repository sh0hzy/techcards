<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>Технологические карты</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0b3a6f">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="KAZARBUILD">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <link rel="stylesheet" href="style.css">

</head>

<body>
  <header class="header">
    <a href="index.html" class="logo">KAZARBUILD</a>
    <div class="burger" id="burger" aria-label="Открыть меню" role="button" tabindex="0">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </header>

  <nav class="menu" id="menu">
    <button type="button">Смена языка</button>
    <a href="index.html">Тех.карты</a>
  </nav>
  <div class="install-banner" id="installBanner">
    <p>Установить приложение для работы офлайн?</p>
    <div class="install-buttons">
      <button id="installBtn">Установить</button>
      <button id="dismissBtn">Позже</button>
    </div>
  </div>
  <main class="main">
    <div class="page">
      <h1 class="page-title">Технологические карты</h1>

      <section class="cards">
         <!--  -->
        <div class="astm-card">
        <h3 class="astm-title">Демонтажные работы</h3>
        <p class="astm-description">
          Профессиональный демонтаж для ремонта, перепланировки и строительства.
          Быстро, аккуратно и без лишних проблем.
        </p>

        <div class="astm-divider"></div>

        <div class="astm-bottom">
          <ul class="astm-benefits">
            <li>Чёткий план работ</li>
            <li>Техника безопасности</li>
            <li>Контроль качества</li>
            <li>Чек-лист приёмки</li>
          </ul>
          <div class="astm-divider-vertical"></div>
            <a href="1/learn.html" class="astm-button">
              <svg viewBox="0 0 24 24">
                <path d="M9 18l6-6-6-6"/>
              </svg>
          </a>
        </div>
      </div>  

        </div>

      </section>
    </div>
  </main>

  <footer class="footer"></footer>
  <script>
    const burger = document.getElementById("burger");
    const menu = document.getElementById("menu");

    function toggleMenu() {
      burger.classList.toggle("active");
      menu.classList.toggle("active");
    }

    burger.addEventListener("click", toggleMenu);
    burger.addEventListener("keydown", (e) => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        toggleMenu();
      }
    });

    // Регистрация Service Worker
    if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('./sw.js')
    .then((reg) => console.log('SW OK'))
    .catch((err) => console.log('SW error:', err));
}

    // Установка PWA
    let deferredPrompt;
    const installBanner = document.getElementById('installBanner');
    const installBtn = document.getElementById('installBtn');
    const dismissBtn = document.getElementById('dismissBtn');

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      installBanner.classList.add('show');
    });

    installBtn.addEventListener('click', () => {
      installBanner.classList.remove('show');
      deferredPrompt.prompt();
      deferredPrompt.userChoice.then((choice) => {
        deferredPrompt = null;
      });
    });

    dismissBtn.addEventListener('click', () => {
      installBanner.classList.remove('show');
    });
    </script>

</body>
</html>